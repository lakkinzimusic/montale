{{> layouts/head }}
{{> layouts/header }}
<hr>
<div class="container account">
    <div class="row">


        <div class="col-sm-3">

            {{>accountmenu}}
        </div>

        <div class="col-sm-9">

            <h2>МОЙ ПРОФИЛЬ</h2>
            <hr>
            <p> Здесь находится вся информация относительно вашего аккаунта.</p>
            <p> Вы можете изменить её в любой момент</p>
            <div id="updateUserErrorMessages">
            </div>

            <form action="/account/update/{{user.id}}" method="post" id="updateUserForm">

                <div class="form-group mt-3">
                    <label for="form_username mb-2">Имя пользователя</label>
                    <input class="form-control" id="form_username" type="text" name="username"
                           value="{{user.username}}">
                    <small class="form-text text-muted">Необходимо для авторизации</small>
                </div>

                <div class="form-group mt-3">
                    <label for="form_email mb-2">Email</label>
                    <input class="form-control" id="form_email" type="text" name="email" value="{{user.email}}">
                </div>

                <div class="form-group mt-3">
                    <label for="form_phone">Номер телефона</label>
                    <input class="form-control tel" id="form_phone" type="text" name="phone" value="{{user.phone}}">
                </div>

                <div class="form-group mt-3">
                    <label for="form_password">Новый пароль (минимум 6 символов)</label>
                    <input class="form-control" id="form_password" type="password" name="password" value="">
                    <small class="form-text text-muted">Оставьте пустым, чтобы оставить старый пароль</small>
                </div>

                <div class="d-flex justify-content-around mt-3">
                    <div class="form-group mr-2" style="flex:1">
                        <label for="form_secondname">Фамилия</label>
                        <input class="form-control" id="form_secondname" type="text" name="surname"
                               value="{{user.surname}}">
                    </div>
                    <div class="form-group ml-2" style="flex:1">
                        <label for="form_firstname">Имя</label>
                        <input class="form-control" id="form_firstname" type="text" name="firstname"
                               value="{{user.firstname}}">
                    </div>
                </div>

                <div class="form-group mt-3">
                    <label for="form_birthday">Дата рождения</label>
                    <input class="datepicker-here dateinput" id="form_birthday" type="text" name="birthday"
                           value="{{user.birthday}}" readonly date-format="dd.mm.yyyy" placeholder="дд.мм.гггг" autocomplete="off">
                </div>

                <div class="form-group mt-3 mb-4">
                    <label for="form_sex">Пол</label>
                    <select class="form-control" name="sex" id="form_sex">
                        {{#ifeq user.sex 'male'}}
                            <option value="male">Мужской</option>
                            <option value="female">Женский</option>
                        {{/ifeq}}
                        {{#ifeq user.sex 'female'}}
                            <option value="female">Женский</option>
                            <option value="male">Мужской</option>
                        {{/ifeq}}
                    </select>
                </div>


                <div class="input d-flex flex-row justify-content-around mt-4 mb-4">
                    <button id="updateUserButton">Сохранить</button>
                    <button>Отмена</button>

                </div>
            </form>
        </div>

    </div>
</div>
{{> layouts/footer }}
